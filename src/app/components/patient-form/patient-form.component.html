<div class="container p-4 mx-auto">
  <h1 class="h2 mb-4">{{ isEditMode ? "Edit" : "Add" }} Patient</h1>

  <div *ngIf="error" class="alert alert-danger mb-4">
    {{ error }}
  </div>

  <form
    [formGroup]="patientForm"
    (ngSubmit)="onSubmit()"
    class="max-w-2xl mx-auto"
  >
    <div class="row">
      <div class="col-md-6 mb-3">
        <label class="form-label">First Name</label>
        <input type="text" formControlName="firstName" class="form-control" />
        <div
          *ngIf="firstName?.invalid && (firstName?.dirty || firstName?.touched)"
          class="text-danger mt-1"
        >
          First name is required
        </div>
      </div>

      <div class="col-md-6 mb-3">
        <label class="form-label">Last Name</label>
        <input type="text" formControlName="lastName" class="form-control" />
        <div
          *ngIf="lastName?.invalid && (lastName?.dirty || lastName?.touched)"
          class="text-danger mt-1"
        >
          Last name is required
        </div>
      </div>

      <div class="col-md-6 mb-3">
        <label class="form-label">Date of Birth</label>
        <input type="date" formControlName="dateOfBirth" class="form-control" />
      </div>

      <div class="col-md-6 mb-3">
        <label class="form-label">Gender</label>
        <select formControlName="gender" class="form-select">
          <option value="">Select Gender</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
          <option value="Other">Other</option>
        </select>
      </div>

      <div class="col-md-6 mb-3">
        <label class="form-label">Contact Number</label>
        <input
          type="tel"
          formControlName="contactNumber"
          class="form-control"
        />
      </div>

      <div class="col-md-6 mb-3">
        <label class="form-label">Email</label>
        <input type="email" formControlName="email" class="form-control" />
      </div>

      <div class="col-md-6 mb-3">
        <label class="form-label">Emergency Contact Name</label>
        <input
          type="text"
          formControlName="emergencyContactName"
          class="form-control"
        />
      </div>

      <div class="col-md-6 mb-3">
        <label class="form-label">Emergency Contact Number</label>
        <input
          type="tel"
          formControlName="emergencyContactNumber"
          class="form-control"
        />
      </div>

      <div class="col-md-6 mb-3">
        <label class="form-label">Insurance Provider</label>
        <input
          type="text"
          formControlName="insuranceProvider"
          class="form-control"
        />
      </div>

      <div class="col-md-6 mb-3">
        <label class="form-label">Insurance Number</label>
        <input
          type="text"
          formControlName="insuranceNumber"
          class="form-control"
        />
      </div>

      <div class="col-12 mb-3">
        <label class="form-label">Address</label>
        <textarea
          formControlName="address"
          rows="3"
          class="form-control"
        ></textarea>
      </div>
    </div>

    <div class="d-flex justify-content-between mt-4">
      <button type="button" (click)="navigateBack()" class="btn btn-secondary">
        Cancel
      </button>
      <button
        type="submit"
        [disabled]="patientForm.invalid || isSubmitting"
        class="btn btn-primary"
      >
        {{ isSubmitting ? "Saving..." : "Save Patient" }}
      </button>
    </div>
  </form>
</div>
